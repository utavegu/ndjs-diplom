docker-compose -f docker-compose.dev.yml up
(тоже в ридми)

08.03.23:
Делаешь вебсокеты. Одновременно одна ручка - один сервис. И гэтэвэй с одним сервисом.


БЭКЛОГ:

И токен при логине похоже всё-таки нужно ретурнить, иначе не взлетит. Но надо будет потестить (когда будет фронтенд)

Везде, где используются енв, использовать конструкцию: process.env.* || 'захардкоженное значение'

Контроллер пользователей временно нужен для теста сервисов пользователей, не забудь удалить.

Разберись уже с дублированием асинк-эвэйтов в контроллерах и сервисах. По идее асинхронное только обращение в базу и значит эта обёртка нужна только в сервисе. (РЕФАКТОР)

Также надо что-то придумать с нэймингом методов контроллера и сервисов - когда они одинаковые, читаемость сильно падает (РЕФАКТОР)

Пабликами метить всё вроде как хороший тон, потому верни везже (РЕФАКТОР)

Слишком много однотипных оберток трай-кэтч

Фильтры и валидаторы - это вот не они ли хэлперс? (пока да, но лучше уточнить этот момент)

Инструкцию к АПИ или даже Сваггер обкатать

Рефактор: директория сетап/конфиг с настройками проекта.

Инструкции по тестированию для вебсокетов и авторизации сюда тоже
Тестируй авторизацию через заголовки - Authorication - Bearer *.*.* (в инструкцию, про второй способ тоже рассказать. Раздел "тестировщикам")

Для тестов в постмане (но потом большую портянку в dump):
{
  "email": "somemail@mail.ru",
  "passwordHash": "A1B54C93D01E442F58",
  "name": "Vasia",
  "contactPhone": "8-922-222-11-34",
  "role": "client"
}

ТЕСТИРОВАНИЕ:
- емэйл занят
- не хватает обязательных полей
- поля заполнены некорректными данными

Почитай по Partial в TS

Аццесс токен, рефреш токен... или уже не тут, а в своем проекте с фронтом. Также в своем проекте не подрубаешь сервис админки монги. Все запросы делаешь через монго шел.

Поиск по TODO

Архитектурный момент - группировать модули по ручкам или по смыслу (Вопрос дипруку). Из плюсов группирования по ручкам - сразу на контроллер весишь "клиент", условно, и дальше только нэйминг ручек. Из плюсов по смыслу - вся логика авторизации, вебсокетов и тд - в одном месте. Меньше межмодульных хитросплетений импортов-экспортов.
Ещё был вопрос откуда рождаются админы в базе
И что-то ещё в тудусах было... А, по JWT-авторизации целый вагон вопросов. Логаут, кукисы и тд.
И ЗАДАЙ ЭТИ ВОПРОСЫ ДО КОНЦА ДИПЛОМА, ПРИМЕРНО ЧИСЛА 15! (когда побольше подкопится, после вебсокетов следующей делаешь загрузку файлов, остальное не должно быть сложно)

Документацию к апи сделай просто отдельным файлом md, со Сваггером тут, боюсь, могу не успеть