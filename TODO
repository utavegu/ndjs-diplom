docker-compose -f docker-compose.dev.yml up

Пэйлоад JWT сделай по канонам. Айдишник, роли и прочее из вики и хабра. Sub вроде как айди (аутентификация нест)

Регистрация и авторизация

Допилить схему валидации создания юзера

Для тестов в постмане (но потом большую портянку в dump):
{
  "email": "somemail@mail.ru",
  "passwordHash": "A1B54C93D01E442F58",
  "name": "Vasia",
  "contactPhone": "8-922-222-11-34",
  "role": "client"
}

ТЕСТИРОВАНИЕ:
- емэйл занят
- не хватает обязательных полей
- поля заполнены некорректными данными

Модуль управления пользователями

Прежде чем переезжать на другие модули, максимально рефакторишь юзеров, юзер манажмент и аус. Закрываешь все их тудусы. Тогда и новые модули уже проще будет на основе эталонных стряпать. А также выполнить все пункты в соответствие с ТЗ в этих 3х модулях.



Контроллер пользователей временно нужен для теста сервисов пользователей, не забудь удалить.

Почитай по Partial в TS

Разберись уже с дублированием асинк-эвэйтов в контроллерах и сервисах. По идее асинхронное только обращение в базу и значит эта обёртка нужна только в сервисе. (РЕФАКТОР)

Также надо что-то придумать с нэймингом методов контроллера и сервисов - когда они одинаковые, читаемость сильно падает (РЕФАКТОР)

Фильтры и валидаторы - это вот не они ли хэлперс?

Инструкцию к АПИ или даже Сваггер обкатать

Рефактор: директория сетап/конфиг с настройками проекта.

Инструкции по тестированию для вебсокетов и авторизации сюда тоже

Пабликами метить всё вроде как хороший тон, потому верни везже (РЕФАКТОР)

Думаю, MyExceptionFilter надо глобально подключить, а то я его по итогу на все ручки развесил

Слишком много однотипных оберток трай-кэтч

Длину пароля также валидировать

Везде, где используются енв, использовать конструкцию: process.env.* || 'захардкоженное значение'

Аццесс токен, рефреш токен... или уже не тут, а в своем проекте с фронтом. Также в своем проекте не подрубаешь сервис админки монги. Все запросы делаешь через монго шел.

До 7 скинь степень хэширования. И токен похоже всё-таки нужно ретурнить, иначе не взлетит. Но надо будет потестить.

Тестируй авторизацию через заголовки - Authorication - Bearer *.*.*